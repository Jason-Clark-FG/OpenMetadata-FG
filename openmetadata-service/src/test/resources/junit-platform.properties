junit.jupiter.execution.parallel.enabled = true

# Keep test methods within a class sequential for safety
junit.jupiter.execution.parallel.mode.default = same_thread

# Allow different test classes to run concurrently
junit.jupiter.execution.parallel.mode.classes.default = same_thread

# Dynamic threads ~= CPUs * factor (conservative)
junit.jupiter.execution.parallel.config.strategy = dynamic
junit.jupiter.execution.parallel.config.dynamic.factor = 0.5

# Optional: ensure per-class lifecycle (already used via @TestInstance where needed)
# junit.jupiter.testinstance.lifecycle.default = per_class
