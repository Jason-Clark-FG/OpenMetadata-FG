{
  "$id": "https://open-metadata.org/schema/entity/queryRunner/createQueryRunnerConfig.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Create Query Runner Configuration",
  "description": "Schema for creating a new Query Runner Configuration for database services.",
  "type": "object",
  "javaType": "io.collate.service.schema.entity.queryRunner.CreateQueryRunnerConfig",
  "properties": {
    "name": {
      "$ref": "./queryRunnerConfig.json#/properties/name"
    },
    "displayName": {
      "$ref": "./queryRunnerConfig.json#/properties/displayName"
    },
    "description": {
      "$ref": "./queryRunnerConfig.json#/properties/description"
    },
    "serviceType": {
      "$ref": "./queryRunnerConfig.json#/properties/serviceType"
    },
    "authConfig": {
      "$ref": "./queryRunnerConfig.json#/properties/authConfig"
    },
    "querySettings": {
      "$ref": "./queryRunnerConfig.json#/properties/querySettings"
    },
    "enabled": {
      "$ref": "./queryRunnerConfig.json#/properties/enabled"
    },
    "userConfigurableFields": {
      "$ref": "./queryRunnerConfig.json#/properties/userConfigurableFields"
    }
  },
  "required": ["name", "serviceType", "authConfig"],
  "additionalProperties": false,
  "allOf": [
    {
      "if": {
        "properties": {
          "serviceType": {
            "const": "BigQuery"
          }
        }
      },
      "then": {
        "properties": {
          "authConfig": {
            "$ref": "./queryRunnerConfig.json#/definitions/bigQueryAuthConfig"
          }
        }
      }
    },
    {
      "if": {
        "properties": {
          "serviceType": {
            "const": "Snowflake"
          }
        }
      },
      "then": {
        "properties": {
          "authConfig": {
            "$ref": "./queryRunnerConfig.json#/definitions/snowflakeAuthConfig"
          }
        }
      }
    }
  ]
}